========
Tutorial
========

`GeoNIS <http://geonis.lternet.edu>`_ is a web mapping service intended to serve the general public as well as scientists performing research for the `Long Term Ecological Research Network (LTER) <http://www.lternet.edu/>`_.  The GeoNIS website is freely accessible to the public.  It has a simple-to-use point-and-click interface, and can be used with any modern browser -- we've tested it with Firefox, Chrome, Safari, and Internet Explorer 9+.  (Older versions of Internet Explorer may not be able to render the web map properly.)  This section describes how to use the site.

------------
Welcome page
------------

When you go to http://geonis.lternet.edu, you are presented with a "Welcome to GeoNIS!" banner, along with a brief description of the GeoNIS project, and a map of the United States, with many of the LTER sites outlined in yellow.  Along the right-hand side of the screen, there is a vertical, light blue menu, where each menu item is the three-letter code for one of the 27 LTER sites.  If you move your mouse over one of the menu items, the full name of the LTER site is shown.  If you click on it, it will take you to that LTER site's page.

--------
Web maps
--------

Click on the first menu item, `AND <http://geonis.lternet.edu/index.html?packageid=knb-lter-and>`_ (the `H.J. Andrews Experimental Forest <http://andrewsforest.oregonstate.edu/>`_).  This will take you to the web map, which displays an ArcGIS-generated map of the Andrews Forest LTER.  Here, you can interactively view the spatial data provided for this site:

* The "GeoNIS" bubble in the upper left-hand corner will return you to the welcome page.
* A map of the Andrews Forest LTER is displayed in the center of the page.  The map has several interactive features:

  * The + and - buttons in the upper left-hand corner of the map zoom in and out, respectively.  You can also zoom using your mousewheel.
  * Left-clicking on the map itself, and holding down the click, allows you to freely scroll the map in any direction.
  * Clicking on the "Switch Basemap" button in the upper right-hand corner of the map displays the available basemaps.  The default basemap is "Imagery" (images taken by satellite).  Other options include topographic maps, street maps, and maps created by National Geographic.
  * A scale-bar is displayed in the lower left-hand corner of the page, which updates automatically when you zoom in or out.

* The left side-bar contains several links for navigating through the Andrews Forest site:
  
  * "Map service" links to a page which is automatically generated by ArcGIS, containing technical information for GeoNIS's map of the Andrews Forest.  The information on this page can be used to programmatically pull data from GeoNIS using our REST API.
  * "Image service" links to the REST API page for images (raster datasets).
  * Clicking on "Layers" causes a menu to drop down.  The entries in this menu are the *layers* (vector datasets) available to be displayed on the map.  (At the time of this writing, there are three layers available for the Andrews Forest: 'Boundary', 'fire91', and 'con10_10'.)

    * If a layer's checkbox is checked, then the layer is visible on the map.  If the checkbox is not checked, then the layer is not shown on the map.
    * 'Boundary' denotes the edge of the Andrews Forest LTER; this layer is present for all sites and is visible (checked) by default.
    * Checking a layer's checkbox will display that layer on the map, along with detailed information about the layer in a box below the map.  (For example, checking the 'con10_10' box draws a set of contour lines on the map; the details box explains that this is a 10 meter digital elevation model generated from LiDAR data gathered in August 2008.)
    * Unchecking the checkbox will cause the layer to disappear.
    * Multiple layers can be shown at once!

  * Clicking on "Images" displays a drop-down menu containing the *images*, or raster datasets, available for the Andrews Forest.  Just like the layers menu, checking the box of an image causes it to be displayed on the map.  Images work similarly to the layers (vectors) described above, with the important exception that only a single image can be displayed at a time.  However, an image and one or more vector layers can be shown simultaneously.
  * "Packages" is a drop-down menu, containing the package IDs of the Andrews Forest datasets presently available through GeoNIS.  Clicking on one of the package IDs takes you to another page, which displays GeoNIS's technical data and error reports for this package.

* The bottom of the page is initially occupied by the map.  If you click on a layer or image in the left side-bar, this area will display detailed information about your selection.

  * If multiple datasets are selected, detailed information box is shown only for the most recently-selected dataset.  A brief summary of the others is shown.  To bring up the details for a different dataset, click on the row containing its summary.  (Clicking multiple times toggles the display.)
  * The detail box includes a "Download" link, which allows you to download the full dataset from the PASTA server.  Warning: many of these datasets are quite large.
  * Below the download link is a paragraph describing the dataset (taken from the EML ``<entityDescription>`` node)
  * To close the detail box, click on the X in the upper right-hand corner of the box.

------------
Data reports
------------

Click on "Packages" in the left side-bar to open the drop-down menu, then click on "knb-lter-and.5030.6".  This will take you to a page containing GeoNIS's data/error reports for this package -- which, as shown in the blue bar at the top of the page, is revision 6 of Andrews Forest data package #5030.  Packages may include more than one dataset (or "entity"); in this case, the package contains 1 vector and 7 raster datasets.

The report page is organized into three sections:

* The top section contains the details of the *package*, which are extracted from its metadata (EML) by GeoNIS:

  * Package ID (as stored in PASTA, ``site.package.revision``)
  * Package title (``<title>``)
  * PASTA download link (``<physical/distribution/online/url>``)
  * Purpose (``<purpose>``)
  * Keywords (``<keyword>``)
  * Abstract (``<abstract>``)
  * Package report summary: if GeoNIS found any errors at the package level, they will be reported here.  Otherwise, this will simply say "No errors found."
  * Table containing the results of individual package-level tasks within GeoNIS.  If there were errors, and the package was not processed correctly, the information in this table may be helpful to troubleshoot your files and/or metadata!

* Reports for individual vector datasets/entities.  Clicking on a dataset will bring up its detailed report, which has the following information:

  * Entity name (``<entityName>``)
  * A paragraph describing the dataset (``<entityDescription>``)
  * Entity report summary: if GeoNIS found any errors within this specific dataset, they will be reported here.  Otherwise, this will simply say "No errors found."
  * Table containing the results of individual entity-level tasks within GeoNIS.  If there were errors, and the entity could not be processed correctly, the information in this table may be helpful to troubleshoot your files and/or metadata.

* Reports for individual raster datasets, presented in the same format as the vector datasets.